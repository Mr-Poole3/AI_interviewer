# LLM面试官系统

基于 FastAPI 和 WebSocket 的智能面试系统，提供实时的 LLM 面试官对话体验。

## 📑 快速导航

### 关键文件索引
- [`start.py`](start.py) - 系统启动脚本，提供友好的启动体验
- [`backend/app.py`](backend/app.py) - FastAPI主应用，WebSocket服务端
- [`backend/llm_client.py`](backend/llm_client.py) - LLM客户端，支持多种API
- [`static/index.html`](static/index.html) - 前端界面，多页面路由系统
- [`static/app.js`](static/app.js) - 前端逻辑，WebSocket客户端与数据管理
- [`static/style.css`](static/style.css) - 飞书风格UI样式

### 按功能查找
- **环境配置** → [`backend/config.py`](backend/config.py)
- **启动系统** → [`start.py`](start.py) 
- **面试对话** → 主页面，WebSocket实时通信
- **简历管理** → 导航栏"简历设置"页面
- **历史记录** → 导航栏"历史记录"页面，支持本地存储
- **文件上传** → [`backend/file_handler.py`](backend/file_handler.py)
- **响应式设计** → CSS媒体查询，支持移动端

## 🎯 系统特性

### 核心功能特性
```javascript
// 直接进入面试 - 无需等待
访问应用 → 立即开始面试对话

// 个性化面试流程
导航栏"简历设置" → 上传PDF/Word → 返回面试 → AI基于简历提问
```

### 多页面导航系统
- **面试页面**: 实时WebSocket对话，流式响应显示
- **历史记录页面**: 本地存储管理，支持继续面试
- **简历设置页面**: 文件上传管理，支持预览和移除

### 技术特性
- **流式响应**: WebSocket + Server-Sent Events模拟
- **本地存储**: localStorage管理面试历史
- **文件处理**: 支持PDF、Word文档解析
- **响应式设计**: 飞书设计语言，支持移动端

## 🚀 快速开始

### 1. 环境准备
```bash
# 克隆项目
git clone <repository-url>
cd llm-interviewer

# 创建虚拟环境
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# 或
.venv\Scripts\activate     # Windows

# 安装依赖
pip install -r requirements.txt
```

### 2. 配置API密钥

**方式一：环境变量**
```bash
export OPENAI_API_KEY="your_api_key_here"
export OPENAI_BASE_URL="your_base_url_here"  # 可选
```

**方式二：创建 .env 文件**
```env
OPENAI_API_KEY=your_api_key_here
OPENAI_BASE_URL=your_base_url_here
ARK_API_KEY=your_ark_key_here  # 字节火山引擎
```

### 3. 启动系统
```bash
# 推荐：使用启动脚本（包含环境检查）
python start.py

# 或直接启动
uvicorn backend.app:app --host localhost --port 8000 --reload
```

### 4. 开始使用
1. 浏览器访问：http://localhost:8000
2. **直接面试**：页面加载后立即开始对话
3. **个性化面试**：通过导航栏"简历设置"上传简历
4. **查看历史**：通过导航栏"历史记录"管理面试记录

## 💼 用户指南

### 使用流程

#### 快速面试模式
```
启动应用 → 直接开始通用技术面试 → 实时对话体验
```

#### 个性化面试模式
```
启动应用 → 导航栏"简历设置" → 上传简历文件 → 返回面试页面 → AI基于简历个性化提问
```

#### 历史记录管理
```
导航栏"历史记录" → 查看过往面试 → 支持继续面试、查看详情、删除记录
```

### 界面导航
- **顶部导航栏**: 
  - 🎯 面试：主要对话界面
  - 📋 历史记录：面试记录管理
  - 📄 简历设置：文件上传管理
- **连接状态**: 实时显示WebSocket连接状态
- **聊天界面**: 流式消息显示，支持长文本

### 功能特色
- **无需等待**: 应用启动后直接可用，无需复杂设置
- **智能导航**: 清晰的功能分工，直观的页面切换
- **数据持久**: 本地存储面试记录，隐私安全
- **跨平台**: 响应式设计，桌面端和移动端完美适配

## 🔧 技术架构

### 系统架构图
```
Frontend (静态文件)
├── index.html        # 多页面路由容器
├── app.js            # WebSocket客户端 + 数据管理
│   ├── LocalStorageManager   # 本地数据存储
│   ├── PageRouter           # 页面路由管理  
│   ├── HistoryManager       # 面试历史记录
│   ├── ResumeManager        # 简历文件管理
│   └── InterviewApp         # 主应用逻辑
└── style.css         # 飞书风格UI

Backend (FastAPI)
├── app.py            # 主应用 + WebSocket端点
├── llm_client.py     # LLM API客户端
├── file_handler.py   # 文件上传处理
└── config.py         # 配置管理
```

### 关键技术栈
- **后端**: FastAPI + uvicorn + WebSocket
- **前端**: 原生JavaScript + WebSocket + localStorage
- **LLM集成**: OpenAI API / 字节火山引擎
- **文件处理**: python-docx + PyPDF2
- **UI设计**: 飞书设计语言，CSS Grid + Flexbox

### 数据流设计
```
用户输入 → WebSocket → LLM API → 流式响应 → 前端渲染 → 本地存储
```

## 📝 配置参考

### 关键环境变量
| 变量名 | 说明 | 必需 | 默认值 |
|--------|------|------|--------|
| `OPENAI_API_KEY` | OpenAI API密钥 | 是* | - |
| `OPENAI_BASE_URL` | OpenAI API基础URL | 否 | https://api.openai.com/v1 |
| `ARK_API_KEY` | 字节火山引擎密钥 | 是* | - |
| `ARK_BASE_URL` | 火山引擎基础URL | 否 | 预设值 |

*至少需要配置一个LLM提供商的密钥

### 推荐配置
```env
# 生产环境推荐
OPENAI_API_KEY=sk-xxx
OPENAI_BASE_URL=https://api.openai.com/v1

# 开发环境可选
ARK_API_KEY=your_ark_key
DEBUG=true
```

## 🛠️ 开发指南

### 项目结构
```
### 核心功能
- **智能面试官**: 基于LLM的专业技术面试官，能够进行多轮技术问答
- **📄 简历管理**: 支持PDF和Word格式简历上传，集中管理简历文件
- **🎯 个性化面试**: 根据简历背景自动生成针对性面试问题和评估标准
- **📋 面试历史记录**: 自动保存面试对话，支持查看、排序、删除和继续面试
- **🗂️ 多页面导航**: 现代化的页面路由系统，支持面试、历史记录、简历设置页面切换
- **💾 数据持久化**: 基于localStorage的本地数据存储，支持历史记录和简历信息持久化
- **流式对话**: 支持WebSocket实时流式消息传输，提供类似ChatGPT的打字效果
- **飞书风格UI**: 采用飞书设计语言，温和友好的现代化界面体验
- **响应式设计**: 完美适配桌面端和移动端设备
- **实时状态**: 连接状态指示器，实时显示连接状态

### 技术特性
- **前后端分离**: FastAPI后端 + 原生JavaScript前端
- **WebSocket通信**: 低延迟实时双向通信
- **流式传输**: 支持LLM模型的流式输出显示
- **文档解析**: 智能解析PDF和Word文档，提取简历内容
- **拖拽上传**: 现代化的文件上传界面，支持拖拽和点击上传
- **双Prompt架构**: 结合简历信息和面试指导的智能prompt生成
- **本地数据管理**: 智能的localStorage数据管理，支持数据清理和容量控制
- **页面路由系统**: 无刷新的单页面应用路由管理
- **历史记录管理**: 完整的面试记录增删改查功能
- **错误处理**: 完善的错误处理和用户反馈机制
- **自动重连**: WebSocket断线自动重连机制

## 🛠️ 技术栈

### 后端
- **FastAPI**: 现代Python Web框架
- **WebSocket**: 实时通信协议
- **OpenAI客户端**: 兼容OpenAI API的LLM客户端
- **Uvicorn**: ASGI服务器
- **PyPDF2**: PDF文档解析库
- **python-docx**: Word文档解析库
- **python-multipart**: 文件上传支持

### 前端
- **原生JavaScript**: 无框架依赖，轻量级实现
- **CSS3**: 现代CSS特性，飞书设计风格
- **WebSocket API**: 浏览器原生WebSocket支持
- **File API**: 浏览器原生文件处理支持
- **localStorage API**: 浏览器本地存储支持
- **History API**: 页面路由管理支持

## 📁 项目结构

web_rules_test/
├── backend/                 # 后端模块
│   ├── app.py              # FastAPI主程序，包含WebSocket和文件上传接口
│   └── llm.py              # LLM客户端封装，支持双Prompt模式
├── static/                 # 前端静态文件
│   ├── index.html          # 主页面，多页面路由架构
│   ├── style.css           # 飞书风格样式，包含导航栏和新页面样式
│   ├── app.js              # JavaScript逻辑，包含数据管理和页面路由
│   └── app.js.backup       # 原始app.js备份文件
├── .cursor/                # 项目规划和配置
│   └── rules/              
│       └── project.mdc     # 项目修改方案文档
├── start.py                # 启动脚本（推荐使用）
├── config.py               # 配置管理
├── requirements.txt        # Python依赖
├── project_analysis.md     # 项目技术分析文档
└── README.md               # 项目文档
```

## 🚀 快速开始

### 1. 环境准备

确保已安装Python 3.8+：

```bash
python --version
```

### 2. 安装依赖

```bash
pip install -r requirements.txt
```

### 3. 配置API密钥

创建`.env`文件或设置环境变量：

```bash
# 方式1：创建.env文件
echo "OPENAI_API_KEY=your_api_key_here" > .env
echo "OPENAI_BASE_URL=your_base_url_here" >> .env
echo "DEFAULT_MODEL=your_model_name" >> .env

# 方式2：设置环境变量（Windows）
set OPENAI_API_KEY=your_api_key_here
set OPENAI_BASE_URL=your_base_url_here
set DEFAULT_MODEL=your_model_name

# 方式3：设置环境变量（Linux/Mac）
export OPENAI_API_KEY=your_api_key_here
export OPENAI_BASE_URL=your_base_url_here
export DEFAULT_MODEL=your_model_name
```

### 4. 启动服务

**推荐方式 - 使用启动脚本：**
```bash
python start.py
```

启动脚本会自动进行环境检查，包括：
- Python版本检查
- 依赖包完整性验证
- API密钥配置检查
- 友好的错误提示和解决建议

**传统方式：**
```bash
python backend/app.py
```

或使用uvicorn直接启动：
```bash
uvicorn backend.app:app --host 0.0.0.0 --port 8000 --reload
```

### 5. 访问应用

打开浏览器访问：http://localhost:8000

## 🎮 使用指南

### 主要功能模块

#### 1. 面试页面（默认页面）
- **简历上传**：获得基于个人背景的个性化面试
- **跳过上传**：进行通用技术方向面试
- **历史记录导航**：查看以往面试记录
- **面试对话**：实时流式对话体验
- **保存记录**：自动或手动保存面试记录

#### 2. 历史记录页面
- **记录列表**：查看所有历史面试记录
- **排序筛选**：按时间、时长等方式排序
- **详细查看**：展开查看完整对话记录
- **继续面试**：基于历史记录的简历重新开始面试
- **删除管理**：单条删除或批量清空记录

#### 3. 简历设置页面
- **当前简历**：查看已上传的简历信息和预览
- **文件管理**：重新上传或移除简历文件
- **使用简历**：一键使用当前简历开始面试
- **状态查看**：查看简历上传时间、大小等信息

### 基础使用流程

1. **打开应用**: 访问主页后会看到面试页面的简历上传界面
2. **选择面试方式**：
   - **上传简历**：获得基于个人背景的个性化面试
   - **跳过上传**：进行通用技术方向面试
   - **查看历史**：访问历史记录页面查看以往面试
3. **简历上传**（可选）：
   - 支持PDF、DOC、DOCX格式
   - 文件大小限制：最大10MB
   - 支持拖拽上传或点击选择
4. **开始面试**: 享受流式对话体验，就像与真人面试官交流
5. **查看状态**: 导航栏右侧显示连接状态，绿点表示已连接
6. **保存记录**: 面试结束后可保存记录到本地历史
7. **管理数据**: 通过历史记录和简历设置页面管理个人数据

### 数据管理功能

#### 本地存储特性
- **自动保存**: 面试过程自动保存到浏览器本地存储
- **数据持久化**: 面试记录和简历信息永久保存（除非手动删除）
- **容量控制**: 自动限制历史记录数量（最多50条），防止占用过多空间
- **兼容性检查**: 自动检测浏览器localStorage支持情况

#### 数据安全性
- **本地存储**: 所有数据仅存储在用户浏览器本地，不上传到服务器
- **隐私保护**: 面试记录和简历信息完全私有，其他人无法访问
- **数据控制**: 用户完全控制数据的保存、查看和删除

### 简历上传功能

#### 支持的文件格式
- **PDF文档** (.pdf)
- **Word文档** (.doc, .docx)

#### 上传方式
1. **拖拽上传**: 直接将文件拖拽到上传区域
2. **点击上传**: 点击上传区域选择文件
3. **实时进度**: 显示上传进度和解析状态

#### 个性化面试体验
- 系统会自动解析简历内容
- 基于技术栈、项目经验和工作背景生成问题
- 面试难度自动匹配经验水平
- 针对性的技术深度评估

## ⚙️ 配置选项

### 环境变量

| 变量名 | 说明 | 默认值 |
|--------|------|--------|
| `OPENAI_API_KEY` | OpenAI API密钥 | 必填 |
| `OPENAI_BASE_URL` | API基础URL | `https://ark.cn-beijing.volces.com/api/v3` |
| `DEFAULT_MODEL` | 默认模型名称 | `deepseek-v3-250324` |

### 服务器配置

在`backend/app.py`中可以修改：
- 服务器端口（默认8000）
- 主机地址（默认0.0.0.0）
- 是否启用热重载
- 文件上传大小限制（默认10MB）

### 前端配置

在`static/app.js`中可以配置：
- localStorage存储限制（默认50条历史记录）
- 页面路由行为
- 数据管理策略
- 错误处理方式

## 🎨 UI设计特性

### 飞书设计语言
本系统采用飞书(Lark)的设计语言，提供温和友好的用户体验：

#### 色彩系统
- **主色**: #1456F0 (飞书蓝) - 代表专业和信任
- **辅助色**: #00B96B (飞书绿) - 代表活力和成长
- **成功色**: #52C41A - 操作成功状态
- **警告色**: #FAAD14 - 注意和警告状态
- **错误色**: #FF4D4F - 错误和失败状态
- **文字色阶**: #1F2329, #646A73, #8F959E - 清晰的层次感

#### 设计系统
- **圆角**: 6-12px 范围，创造柔和亲切感
- **阴影**: 柔和的投影效果，增强层次感
- **间距**: 8px网格系统，保持视觉统一
- **字体**: 系统字体栈，优化可读性和性能

#### 组件特色
- **导航栏设计**: 固定顶部导航，支持多页面切换
- **卡片化设计**: 清晰的信息分组和视觉层次
- **渐变背景**: 温和的渐变效果增强视觉吸引力
- **微动画**: 流畅的状态转换和交互反馈
- **响应式布局**: 完美适配各种屏幕尺寸

### 新增UI组件

#### 导航栏系统
- **固定导航**: 透明背景，毛玻璃效果
- **导航按钮**: 图标+文字组合，支持激活状态
- **状态指示**: 连接状态实时显示
- **响应式适配**: 移动端自动隐藏文字，保留图标

#### 历史记录界面
- **记录卡片**: 飞书风格的卡片布局
- **标签系统**: 简历状态、对话数量、时长标签
- **操作按钮**: 继续面试、查看详情、删除操作
- **详情展开**: 平滑的展开动画显示完整对话

#### 简历设置界面
- **信息展示**: 清晰的简历信息卡片
- **文件预览**: 简历内容预览区域
- **状态管理**: 上传、预览、移除等状态

### 交互体验
- **打字动画**: 优雅的三点跳动效果
- **流式文本**: 文字逐个显示的自然效果
- **状态反馈**: 清晰的连接状态和操作提示
- **文件上传**: 现代化的拖拽上传界面
- **进度显示**: 实时的上传进度和处理状态
- **错误处理**: 友好的错误提示和自动恢复
- **页面切换**: 无刷新的平滑页面过渡
- **数据操作**: 直观的数据管理和操作反馈

### UI交互细节
- **悬停效果**: 按钮和卡片的微妙变化
- **页面切换**: 流畅的过渡动画
- **状态变化**: 平滑的动画反馈
- **滚动行为**: 自然的平滑滚动
- **焦点管理**: 智能的焦点转移
- **导航反馈**: 活跃页面高亮显示
- **操作确认**: 关键操作的确认提示

## 🔧 开发说明

### 前端架构升级
- **模块化设计**: 多个管理器类协同工作
  - `LocalStorageManager`: 本地数据存储管理
  - `PageRouter`: 页面路由和导航管理
  - `HistoryManager`: 面试历史记录管理
  - `ResumeManager`: 简历文件管理
  - `InterviewApp`: 主应用程序控制器
- **事件驱动**: 基于DOM事件和自定义事件的交互处理
- **状态管理**: 完整的应用状态和数据状态管理
- **文件处理**: 集成文件验证、上传和进度监控
- **动画系统**: 统一的动画效果管理
- **数据持久化**: localStorage数据管理和同步

### 数据管理架构
- **存储分层**: 区分面试记录、简历信息、应用设置
- **容量控制**: 自动清理策略，防止存储溢出
- **数据同步**: 页面间数据状态同步机制
- **兼容性处理**: localStorage支持检测和降级方案

### 后端架构
- **异步处理**: 基于asyncio的异步WebSocket处理
- **流式传输**: 支持LLM模型的流式输出
- **文件解析**: 支持PDF和Word文档内容提取
- **会话管理**: 简单而有效的用户会话管理
- **错误恢复**: 完善的异常处理和日志记录

### API接口

#### WebSocket消息协议

```javascript
// 用户消息
{"type": "user_message", "message": "用户输入", "session_id": "session_123"}

// 消息开始
{"type": "message_start", "role": "assistant"}

// 内容片段
{"type": "content_delta", "content": "文本片段"}

// 消息结束
{"type": "message_end"}

// 简历上传通知
{"type": "resume_uploaded", "session_id": "session_123", "message": "请基于我的简历开始面试"}

// 错误消息
{"type": "error", "message": "错误描述"}
```

#### HTTP接口

**简历上传接口**
```http
POST /api/upload-resume
Content-Type: multipart/form-data

参数:
- file: 上传的简历文件 (PDF/Word)

响应:
{
    "success": true,
    "message": "简历上传并解析成功",
    "session_id": "session_123",
    "resume_preview": "简历内容预览...",
    "text_length": 1250
}
```

### 双Prompt架构

系统采用创新的双Prompt架构：

1. **Prompt1（简历信息）**: 包含用户简历的完整内容
2. **Prompt2（面试指导）**: 专业面试官的角色设定和评估标准

```python
def create_interview_system_prompt(resume_content: str) -> str:
    prompt1 = f"用户简历信息：\n{resume_content}\n\n"
    prompt2 = """你是一个专业的技术面试官。基于用户的简历信息，请：
    1. 分析候选人的技术背景、工作经验和项目经历
    2. 针对简历中提到的技术栈、项目和工作经验提出相关问题
    3. 评估候选人的技术深度和广度
    4. 关注简历中的关键技能和项目成果
    5. 根据候选人的经验水平调整问题难度
    """
    return prompt1 + prompt2
```

## 📝 日志规范

### 日志记录标准
本项目遵循统一的日志记录规范，确保所有关键操作都有完整的日志追踪：

#### 核心功能日志
- **WebSocket连接**: 记录连接建立、断开和错误信息
- **LLM调用**: 记录API调用状态、响应时间和错误详情
- **文件上传**: 记录文件上传、解析过程和结果状态
- **简历处理**: 记录简历解析成功/失败及文本提取长度
- **用户交互**: 记录用户消息和系统响应的关键节点
- **系统错误**: 详细记录异常堆栈和上下文信息

#### 新增功能日志
- **页面路由**: 记录页面切换、导航状态和路由错误
- **数据管理**: 记录localStorage操作、数据保存和读取状态
- **历史记录**: 记录面试记录的创建、查看、删除等操作
- **简历管理**: 记录简历文件的上传、保存、移除等操作
- **UI交互**: 记录关键的用户界面状态变化和交互行为
- **面试官系统**: 记录prompt生成、消息处理和错误输出情况
- **数据同步**: 记录页面间数据状态同步和冲突处理

### 关键操作日志
#### 原有功能
- **简历上传**: `简历上传处理 - 文件名: xxx.pdf, 大小: 2MB, 解析状态: 成功`
- **个性化面试**: `基于简历内容生成个性化面试prompt - 会话ID: session_123`
- **文档解析**: `PDF解析完成 - 提取文本长度: 1250字符`

#### 新增功能
- **页面导航**: `页面路由切换 - 从面试页面切换到历史记录页面`
- **数据存储**: `localStorage操作 - 保存面试记录: interview_123, 数据大小: 5KB`
- **历史记录**: `面试历史操作 - 用户查看历史记录详情: interview_123`
- **继续面试**: `基于历史记录继续面试 - 恢复简历信息: resume_456`
- **数据清理**: `localStorage数据清理 - 删除过期记录: 3条, 释放空间: 15KB`
- **UI状态变化**: `页面切换 - 从上传界面切换到聊天界面`
- **动画执行**: `飞书风格动画执行 - 类型: 页面过渡, 持续时间: 400ms`
- **面试官错误**: `面试官输出违规内容 - 类型: 思考过程输出, 内容: (这是一个基于STAR原则的问题)`
- **等待状态**: `面试官等待开始指令 - 状态: 已读取简历, 等待用户确认`

### 日志格式
```
[时间戳] [模块名] [日志级别] - 日志消息
示例：2024-12-19 12:00:00 - backend.app - INFO - 简历上传并解析成功，提取文本长度: 1250 字符
示例：2024-12-19 12:00:01 - frontend.PageRouter - INFO - 页面路由切换: interview -> history
示例：2024-12-19 12:00:02 - frontend.LocalStorageManager - INFO - 保存面试记录: interview_123
示例：2024-12-19 12:00:03 - frontend.HistoryManager - INFO - 用户查看历史记录详情: interview_123
示例：2024-12-19 12:00:04 - backend.llm - WARN - 面试官prompt违规输出检测 - 已修复思考过程输出问题
```

## 🐛 常见问题

### 1. 连接失败
- 检查API密钥是否正确设置
- 确认网络连接正常
- 查看控制台错误信息

### 2. 流式效果不正常
- 确认WebSocket连接正常
- 检查浏览器是否支持WebSocket
- 查看后端日志输出

### 3. 样式显示异常
- 清除浏览器缓存
- 检查CSS文件是否正确加载
- 确认浏览器版本支持CSS3特性

### 4. 简历上传问题
- **文件格式不支持**: 确保文件为PDF、DOC或DOCX格式
- **文件过大**: 检查文件大小是否超过10MB限制
- **解析失败**: 确认文档没有损坏，内容可读
- **上传失败**: 检查网络连接和服务器状态

### 5. 个性化面试问题
- **问题不够针对**: 检查简历内容是否完整，技术信息是否明确
- **面试官无响应**: 查看控制台错误，确认API密钥有效
- **问题过简单/复杂**: 系统会根据简历经验自动调整难度

### 6. 启动脚本问题
- 确保使用Python 3.8+版本
- 检查所有依赖是否正确安装（特别是新增的文档解析库）
- 查看启动脚本的详细错误提示

### 7. 飞书风格UI问题
- **动画效果异常**: 检查浏览器是否支持CSS3动画
- **颜色显示不正确**: 确认浏览器支持CSS变量
- **布局错乱**: 清除浏览器缓存，确认CSS文件完整加载

### 8. 面试官系统问题
- **输出思考过程**: 已修复prompt中的思考内容输出问题，面试官不再显示类似"(这是一个基于STAR原则的问题)"的解释性文字
- **自动开始面试**: 已修复自动开始问题，面试官现在会等待用户明确说"开始面试"才开始提问
- **等待状态异常**: 确认上传简历后面试官会提示"我已经收到并阅读了您的简历。当您准备好时，请说'开始面试'，我们就正式开始。"

### 9. 新增功能问题

#### 页面导航问题
- **导航栏不显示**: 确认完成面试初始化后导航栏会自动显示
- **页面切换失效**: 检查JavaScript是否正常加载，查看控制台错误
- **导航按钮状态错误**: 清除浏览器缓存，确认CSS和JS文件完整

#### 历史记录问题
- **记录不保存**: 检查浏览器是否支持localStorage
- **记录显示异常**: 确认localStorage数据格式正确，尝试清空后重新保存
- **继续面试失败**: 检查历史记录中的简历信息是否完整

#### 简历设置问题
- **简历信息不显示**: 确认localStorage中有简历数据，检查数据格式
- **文件上传失败**: 检查网络连接和文件格式支持
- **移除简历不生效**: 确认操作权限，检查localStorage操作是否成功

#### 数据管理问题
- **localStorage不支持**: 使用现代浏览器，检查隐私设置是否禁用本地存储
- **数据丢失**: 避免使用无痕模式，确认浏览器数据清理设置
- **存储容量超限**: 系统会自动清理旧记录，也可手动清空历史记录

## 📝 更新日志

### v1.3.0 (当前版本)
- ✅ **全新多页面导航系统**: 
  - 🎯 **顶部导航栏**: 飞书风格的固定导航，支持面试、历史记录、简历设置页面切换
  - 🔄 **页面路由管理**: 无刷新的单页面应用路由系统，平滑的页面过渡动画
  - 📱 **响应式导航**: 移动端自适应设计，图标+文字在不同屏幕尺寸下的智能显示
- ✅ **面试历史记录管理**: 
  - 💾 **自动保存**: 面试过程自动保存到本地存储，包含完整对话记录
  - 📋 **记录查看**: 历史记录列表展示，支持时间排序和详情查看
  - 🔄 **继续面试**: 基于历史记录的简历信息重新开始面试
  - 🗑️ **数据管理**: 支持单条删除和批量清空操作
- ✅ **简历设置页面**: 
  - 📄 **集中管理**: 专门的简历管理页面，查看当前简历状态
  - 🔄 **文件操作**: 支持重新上传、移除简历等操作
  - 👁️ **信息预览**: 显示简历文件信息、上传时间、内容预览
  - 🎯 **快速面试**: 一键使用当前简历开始面试
- ✅ **localStorage数据管理**: 
  - 💾 **本地存储**: 面试记录、简历信息的持久化存储
  - 🔧 **数据管理**: 智能的容量控制、自动清理和兼容性检测
  - 🔒 **隐私保护**: 所有数据仅存储在用户本地，完全私有
  - ⚡ **性能优化**: 高效的数据读写和同步机制
- ✅ **架构升级**: 
  - 🏗️ **模块化重构**: 新增LocalStorageManager、PageRouter、HistoryManager、ResumeManager等管理器类
  - 🎯 **扩展主应用**: InterviewApp类集成所有新功能，保持向后兼容
  - 📱 **UI组件增强**: 新增导航栏、历史记录卡片、简历设置等飞书风格组件
- ✅ **用户体验优化**: 
  - 🎨 **视觉升级**: 统一的飞书设计语言，现代化的交互体验
  - ⚡ **交互流畅**: 平滑的页面切换、状态反馈和动画效果
  - 📱 **移动适配**: 完整的响应式设计，完美支持移动端操作
- ✅ **日志规范完善**: 新增页面路由、数据管理、历史记录等功能的日志记录标准

### v1.2.1
- ✅ **修复面试官系统关键问题**: 
  - 🔧 **禁止思考过程输出**: 加强prompt指令，彻底避免面试官输出类似"(这是一个基于STAR原则的问题)"的解释性文字
  - 🔧 **修复自动开始问题**: 面试官现在会等待用户明确说"开始面试"才开始提问，不再自动开始
  - 🔧 **优化等待机制**: 上传简历后，面试官会提示等待用户确认开始
- ✅ **日志规范完善**: 新增面试官系统相关的日志记录标准
- ✅ **错误处理优化**: 改进面试官prompt的错误处理和用户引导

### v1.2.0
- ✅ **UI风格全面升级**: 从Chrome风格改为飞书设计语言
- ✅ **全新配色系统**: 采用飞书蓝(#1456F0)为主色调，专业可信
- ✅ **设计系统重构**: 统一的圆角、阴影、间距和动画规范
- ✅ **微动画增强**: 新增页面切换、状态变化等飞书风格动画
- ✅ **交互体验优化**: 更流畅的按钮反馈和状态提示
- ✅ **视觉层次优化**: 改进卡片设计和内容布局
- ✅ **响应式改进**: 更好的移动端适配和跨设备体验

### v1.1.0
- ✅ **新增简历上传功能**: 支持PDF和Word格式文档上传
- ✅ **个性化面试体验**: 基于简历内容生成针对性面试问题
- ✅ **拖拽上传界面**: 现代化的文件上传用户体验
- ✅ **双Prompt架构**: 智能结合简历信息和面试指导
- ✅ **文档解析引擎**: 自动提取PDF和Word文档文本内容
- ✅ **实时进度反馈**: 文件上传和解析进度可视化
- ✅ **升级依赖库**: 更新OpenAI库到1.82.0，修复兼容性问题

### v1.0.0
- ✅ 实现基础的LLM面试官功能
- ✅ 支持WebSocket流式对话
- ✅ Chrome风格UI设计
- ✅ 响应式布局适配
- ✅ 完善的错误处理机制
- ✅ 友好的启动脚本和环境检查

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进项目！

### 开发环境设置
1. 克隆项目：`git clone <project-url>`
2. 安装依赖：`pip install -r requirements.txt`
3. 配置环境变量
4. 运行测试：`python -m pytest` (如果有测试)

### 代码规范
- 遵循PEP 8编码规范
- 添加必要的类型注解
- 编写清晰的文档字符串
- 保持代码注释的及时更新
- 遵循飞书设计规范进行UI开发

## 📄 许可证

本项目采用MIT许可证，详见LICENSE文件。

---

**享受您的LLM面试体验！** 🎉 
