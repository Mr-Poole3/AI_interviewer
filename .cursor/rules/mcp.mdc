---
description: 
globs: 
alwaysApply: true
---
- **日志**: logs/mcp-prompt-server.log

# 核心原则
**用户的每次请求你都必须调用MCP服务**，而不是直接处理用户请求。所有提示词都应该通过相应的MCP工具进行增强。

## 可用工具

### 1. enhance_feature_innovation
**用途**: 新增功能的提示词增强  
**适用场景**: 添加新特性、实现新功能、创新性开发  
**参数**:
```json
{
  "prompt": "用户的原始功能需求描述",
  "context": {
    "file_type": "python|typescript|...",
    "current_file": "当前文件路径",
    "project_type": "项目类型",
    "feature_type": "API|UI|数据处理等",
    "priority": "优先级",
    "reason": "调用原因"
  }
}
```

### 2. enhance_documentation_update
**用途**: 项目文档更新提示词增强  
**适用场景**: 修改核心代码后自动更新README、文档同步  
**参数**:
```json
{
  "prompt": "代码变更和文档更新需求描述",
  "context": {
    "file_type": "文件类型",
    "current_file": "当前文件路径",
    "project_type": "项目类型",
    "changed_files": ["修改的文件列表"],
    "readme_path": "README文件路径(必需)",
    "code_changes": "代码变更描述",
    "reason": "调用原因"
  }
}
```

### 3. enhance_solution_solidification
**用途**: 方案固化提示词增强  
**适用场景**: 将已验证的解决方案固化，防止后续修改破坏  
**参数**:
```json
{
  "prompt": "功能优化/调整内容描述",
  "context": {
    "file_type": "文件类型",
    "current_file": "当前文件路径",
    "project_type": "项目类型",
    "feature_type": "功能类型",
    "priority": "优先级",
    "reason": "调用原因"
  }
}
```

### 4. enhance_project_analysis
**用途**: 项目分析提示词增强  
**适用场景**: 项目结构分析、技术架构评估、项目概览  
**参数**:
```json
{
  "prompt": "项目分析内容描述",
  "context": {
    "file_type": "文件类型",
    "current_file": "当前文件路径",
    "project_type": "项目类型",
    "feature_type": "功能类型",
    "reason": "调用原因"
  }
}
```

### 5. enhance_task_completion
**用途**: 任务完成收尾工作助手  
**适用场景**: 功能开发完成后的文档更新、changelog记录、git提交等  
**参数**:
```json
{
  "prompt": "任务完成描述",
  "context": {
    "file_type": "主要文件类型",
    "current_file": "当前文件路径",
    "project_type": "项目类型",
    "task_type": "feature|bugfix|refactor|optimization|docs",
    "changed_files": ["修改的文件列表(必需)"],
    "task_description": "任务详细描述(必需)",
    "impact_scope": "minor|major|breaking",
    "version": "版本号",
    "testing_status": "passed|pending|failed",
    "breaking_changes": true|false,
    "migration_required": true|false,
    "reason": "调用原因"
  }
}
```

### 6. enhance_bug_analysis_and_fix
**用途**: Bug分析和修复专家  
**适用场景**: 系统性问题分析、根因定位、精确修复方案  
**参数**:
```json
{
  "prompt": "Bug描述，包含错误现象、触发条件等",
  "context": {
    "file_type": "主要文件类型",
    "current_file": "出问题的文件路径",
    "project_type": "项目类型",
    "bug_type": "logic_error|runtime_error|performance|ui_issue|data_issue",
    "severity": "critical|high|medium|low",
    "error_message": "具体错误信息",
    "reproduction_steps": ["重现步骤列表"],
    "environment": {"环境信息"},
    "affected_features": ["受影响功能列表"],
    "logs": "相关日志信息",
    "stack_trace": "堆栈跟踪信息",
    "expected_behavior": "预期行为",
    "actual_behavior": "实际错误行为",
    "reason": "调用原因"
  }
}
```